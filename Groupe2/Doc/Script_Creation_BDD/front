CREATE DATABASE quotation_front;


USE quotation_front;


CREATE TABLE Quotation
(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	name NVARCHAR(75) NOT NULL,
	nbQuotation INT NOT NULL,
	price FLOAT NOT NULL,
	state NVARCHAR(100) NOT NULL,
	nbStep SMALLINT NOT NULL,
	user_Id INT
);

CREATE TABLE Home
(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	surface FLOAT,
	nbRoom INT,
	nbBathroom INT,
	garage BOOLEAN,
	surfaceGround FLOAT,
	surfaceTerrace FLOAT,
	homeType_Id SMALLINT,
	heaterType_Id SMALLINT,
	formul_Id SMALLINT,
	quotation_Id INT,
	CONSTRAINT FK_Home_Quotation FOREIGN KEY (quotation_Id) REFERENCES Quotation (id)
);

CREATE TABLE Driver
(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	lastName NVARCHAR(50),
	firstName NVARCHAR(50),
	principal BOOLEAN,
	licence_date DATE,
	nbCrash INT,
	bonusPenalty Float
);

CREATE TABLE Car
(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	taxableHorsePower SMALLINT,
	sleepGarage BOOLEAN,
	fuel_Id SMALLINT,
	mark_Id INT,
	model_Id INT,	
	insurance_Id INT,
	quotation_Id INT,
	driver_Id INT,
	CONSTRAINT FK_Car_Quotation FOREIGN KEY (quotation_Id) REFERENCES Quotation (id),
	CONSTRAINT FK_Car_Driver FOREIGN KEY (driver_Id) REFERENCES Driver (id)
);
