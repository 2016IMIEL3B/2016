CREATE DATABASE quotation_front;


USE quotation_front;


CREATE TABLE Quotation
(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	name NVARCHAR(75) NOT NULL,
	number INT NOT NULL,
	price FLOAT NOT NULL,
	state NVARCHAR(100) NOT NULL,
	nbStep SMALLINT NOT NULL,
	userId INT
);

CREATE TABLE Home
(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	surface FLOAT,
	nbRoom INT,
	nbBathroom INT,
	garage BOOLEAN,
	surfaceGround FLOAT,
	surfaceTerrace FLOAT,
	homeTypeId SMALLINT,
	heaterTypeId SMALLINT,
	formulId SMALLINT,
	quotationId INT,
	CONSTRAINT FK_Home_Quotation FOREIGN KEY (quotationId) REFERENCES Quotation (id) ON DELETE CASCADE
);

CREATE TABLE Car
(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	taxableHorsePower SMALLINT,
	sleepGarage BOOLEAN,
	fuelId SMALLINT,
	markId INT,
	modelId INT,	
	insuranceId INT,
	quotationId INT,
	CONSTRAINT FK_Car_Quotation FOREIGN KEY (quotationId) REFERENCES Quotation (id) ON DELETE CASCADE
);

CREATE TABLE Driver
(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	lastName NVARCHAR(50),
	firstName NVARCHAR(50),
	principal BOOLEAN,
	licence_date DATE,
	nbCrash INT,
	bonusPenalty Float,
	carId INT,
	CONSTRAINT FK_Driver_Car FOREIGN KEY (carId) REFERENCES Car (id) ON DELETE CASCADE
	
);


