drop database if exists quotation_back;
CREATE DATABASE quotation_back;


USE quotation_back;


CREATE TABLE Fuel
(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	entitled NVARCHAR(30) NOT NULL
);

CREATE TABLE Insurance
(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	entitled NVARCHAR(30) NOT NULL
);

CREATE TABLE Formul
(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	entitled NVARCHAR(30) NOT NULL
);

CREATE TABLE HomeType
(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	entitled NVARCHAR(30) NOT NULL
);

CREATE TABLE HeaterType
(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	entitled NVARCHAR(30) NOT NULL
);

CREATE TABLE Mark
(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	entitled NVARCHAR(30) NOT NULL
);

CREATE TABLE Model
(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	entitled NVARCHAR(30) NOT NULL,
	mark_Id INT NOT NULL,
	CONSTRAINT FK_Model_Mark FOREIGN KEY (mark_Id) REFERENCES Mark (id)
);

CREATE TABLE Role
(
	id SMALLINT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	entitled NVARCHAR(20) NOT NULL
);

CREATE TABLE Address
(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	nbStreet INT NOT NULL,
	nameStreet NVARCHAR(75) NOT NULL,
	zip NVARCHAR(5) NOT NULL,
	town NVARCHAR(50) NOT NULL
);

CREATE TABLE User
(
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	lastName NVARCHAR(50) NOT NULL,
	firstName NVARCHAR(50) NOT NULL,
	login NVARCHAR(50) NOT NULL,
	password NVARCHAR(50) NOT NULL,
	role_Id SMALLINT NOT NULL,
	address_Id INT NOT NULL,
	CONSTRAINT FK_User_Role FOREIGN KEY (role_Id) REFERENCES Role (id),
	CONSTRAINT FK_User_Address FOREIGN KEY (address_Id) REFERENCES Address (id)
);


